\فصل{کنترلرهای بی‌سیم}
\برچسب{chap:controller}

کنترلرهای موجود اغلب سازگار با یکی از پروتکل‌های
gls{bt}،
\واژه{wifi}،
کنترل از راه دور مادون قرمز، فرستنده‌ی رادیویی مخصوص و یا ترکیبی از این موارد هستند. کنترل مادون قرمز به علت سادگی فقط توانایی تخصیص یک رنگ به کلیه دیودها را دارد در حالی که در صورت استفاده از دیگر رابط‌ها امکان کنترل پیشرفته‌تر نیز وجود دارد؛ از جمله تعیین رنگ گروهی، تعیین رنگ‌های متغییر با زمان به صورت از پیش برنامه‌ریزی شده یا زنده (که می‌تواند به صورت دستی یا پاسخگو به شرایط نور محیطی و یا تصویر ثابت باشد).

کنترلرهایی که مجهز به فناوری \واژه{wifi} هستند ذاتاً مبتنی بر شبکه‌ی پروتکل اینترنت بوده و امکان کنترل از راه دور و بر بستر اینترنت را دارند؛ که البته ارتباط زنده و همزمان کنترل و کنترلر نیازمند تأخیر پایین شبکه و دسترسی به پهنای‌باند مناسب است. بدین ترتیب، مفهوم \واژه{iot} برای چنین سیستم‌هایی معنا پیدا می‌کند.


\قسمت{باندهای آی.اس.ام}
اف.سی.سی (\واژه{fcc}) فرکانس‌های مختلف را برای اهداف مختلف اختصاص می‌دهد. در ایالات متحده، باند فرکانسی 900، 2400 و 5000 مگاهرتز توسط اف.سی.سی برای کاربردهای صنعتی، علمی و پزشکی بدون نیاز به مجوز در نظر گرفته شده است. فقدان الزامات صدور مجوز رشد صنعت بی‌سیم را بسیار تشویق کرده است. این باندها برای برنامه‌های کاربردی \واژه{wifi} و شبکه‌های محلی بی‌سیم برای مصرف کنندگان و تجار و همچنین برای برنامه‌های تجاری شناسایی فرکانس رادیویی (\واژه{rfid}) و برنامه‌های نظارت و کنترل داده‌ها استفاده می‌شود.

\زیرقسمت{۹۰۰ مگاهرتز}
باند آی.اس.ام ۹۰۰ مگاهرتز بسیار باریک است و این حداکثر سرعت داده‌ها را محدود می‌کند. به طور معمول کاربردهایی مانند \واژه{scada} و \واژه{rfid} از باند ۹۰۰ مگاهرتز استفاده می‌کنند، زیرا نیاز به نرخ داده کمتر از کاربردهای موجود در باندهای فرکانسی ۲٫۴ تا ۵ گیگاهرتز است. اغلب اوقات نوع بسته‌های داده‌ای که در این نوع برنامه‌ها ارسال می‌شود یک دستور روشن/خاموش ساده به چیزی مانند موتور، یا یک مقدار است. وقتی موانعی مانند درختان و برگها در خط دید قرار دارند فرکانس ۹۰۰ مگاهرتز بهتر از فرکانس ۲٫۴ گیگاهرتز است. فرکانس ۲٫۴ گیگاهرتز توسط آب موجود در درختان و برگ‌ها جذب می‌شود که باعث از بین رفتن مسیر انتقال ۲٫۴ گیگاهرتز می‌شود. ۹۰۰ مگاهرتز اغلب در برنامه‌هایی که به خط دید نیازی ندارند استفاده می‌شود.

\زیرقسمت{۲٫۴ گیگاهرتز}
برای کاربران خانگی و مشاغل تجاری ۲٫۴ گیگاهرتز باند اصلی است که برای \واژه{wifi}،\واژه{bt}، تلفن بی‌سیم، چاپگر، صفحه کلید، ماوس و برنامه‌های کنترل بازی استفاده می‌شود. ارتباطات صوتی، تصویری و داده معمولاً در سیستم‌های ۲٫۴ گیگاهرتز مورد استفاده قرار می‌گیرد که به سرعت داده بالاتری نیاز دارند (حداکثر ۳۰۰ مگابیت بر ثانیه برای برنامه‌های \چر{802.11n}). ۲٫۴ گیگاهرتز پرکاربردترین فرکانس است و در برخی موارد ممکن است بیش از حد شلوغ باشد. نمونه‌هایی از دستگاه‌های ۲٫۴ گیگاهرتزی شامل اجاق‌های مایکروویو، مانیتورهای کودک، تلفن‌های بی‌سیم و غیره است. در صورت شلوغی بیش از حد، سیگنال شبکه \واژه{wifi} شما ممکن است ضعیف باشد یا اصلاً کار نکند. در برخی موارد بهتر است از پیوندهای پشتیبان ۵ گیگاهرتز برای اتصال شبکه‌های \واژه{wifi} ۲٫۴ گیگاهرتز استفاده کنید زیرا فرکانس ۵ گیگاهرتز کمتر شلوغ است. ماژول‌های رایج مبتنی بر \واژه{wifi} (از جمله ماژول مورد استفاده در این پروژه) اغلب فقط از این باند پشتیبانی می‌کنند؛ زیرا پشتیبانی از باند ۵ گیگاهرتز نیازمند برآوری ملزومات سخت‌افزاری شامل آنتن و ادوات مخابراتی مناسب است که به هزینه‌ی نهایی محصول اضافه می‌کند و فقط نمی‌توان تنها با ارتقاع نرم‌افزاری از استاندارد جدید \چر{802.11ac} بهره برد.
 
\زیرقسمت{۵ گیگاهرتز}
فرکانس ۵ گیگاهرتز اغلب در برنامه‌های تجاری \واژه{wifi} استفاده می‌شود. بسیاری اوقات از آن به عنوان پیوند پشتیبان استفاده می‌شود که دو سیستم ۲٫۴ گیگاهرتزی را در مسافتی متصل می‌کند. فرکانس ۵ گیگاهرتز نیز برای استاندارد در حال ظهور \چر{802.11ac} استفاده می‌شود که حداکثر ۱٫۳ گیگابیت بر ثانیه حجم داده بی‌سیم را فراهم می‌کند. علاوه بر این \چر{802.11n} می‌تواند از فرکانس ۵ گیگاهرتز استفاده کند. 

در ادامه چندین نمونه‌ی رایج از این کنترلرها با قابلیت‌های متفاوت را مختصراً بررسی می‌کنیم.

\قسمت{کنترلرهای مبتنی بر \واژه‌متن{wifi}}

\شروع{شکل}[ht]
\تنظیم‌ازوسط
\درج‌تصویر[پهنا=0.5\پهنای‌متن]{controller}
\شرح{یک نمونه کنترلر مبتنی بر \واژه‌متن{wifi}\مرجع{amzn:B07DDB6JHJ}}
\برچسب{fig:controller}
\پایان{شکل}

پروتکل \واژه{wifi} برای ارسال و دریافت اطلاعات با استاندارد \چر{IEEE802.11} که ارائه شده توسط سازمان \واژه{ieee} برای پروتکل \واژه{wifi} که نام تجاری این استاندارد است ساخته شده‌اند. به کمک این استاندارد می‌توان روی باند ۲٫۴ گیگاهرتز که از باندهای \واژه{ism} به شمار می‌رود به تبادل داده‌ی دوطرفه پرداخت.

\واژه{wifi} یک خانواده از پروتکل‌های شبکه‌ی بی‌سیم است که عموماً برای شبکه‌های محلی و دسترسی به اینترنت استفاده می‌شود. همانند استاندارد\واژه{bt}، این پروتکل نیز بر باند فرکانسی ۲٫۴ گیگاهرتز مبتنی است؛ گرچه در نسخه‌های جدیدتر این استاندارد توانایی بهره‌گیری از باند ابربالا
\واژه{shf}،
در محدوده فرکانسی ۵ گیگاهرتز نیز در نظر گرفته شده است. از دید ساختار شبکه در مدل \واژه{osi}،
این پروتکل، پایین‌ترین دو لایه (لایه‌ی فیزیکی و لایه‌ی پیوند داده) را شامل می‌شود و می‌تواند از داده‌های تبادل شده در لایه‌های مذکور در برابر تغییرات نا‌خواسته بر اثر نویز محیطی و یا دستکاری عامدانه‌ی اطلاعات و یا شنود آنها توسط فرد سومی که به کانال بی‌سیم دسترسی دارد جلوگیری کند؛ اما نسخه‌های قدیمی‌تر این استاندارد روش‌هایی را برای رمزنگاری داده‌ها معرفی می‌کند که بعداً مشخص شد امنیت اطلاعات را تضمین نمی‌کنند و در حال حاضر منسوخ محسوب می‌گردند (به طور خاص \واژه{wep} و \واژه{wps}). روش‌های جدیدتری به این منظور ارائه گردیده اند که از امنیت بسیار بهتری برخوردار هستند\مرجع{wi-fi}.

\شروع{شکل}[ht]
\تنظیم‌ازوسط
\درج‌تصویر[پهنا=0.48\پهنای‌متن]{controller2}
\شرح{یک نمونه کنترلر تجاری مبتنی بر \واژه‌متن{wifi}, \واژه‌متن{bt} و نور مادون قرمز\مرجع{amzn:B09BMBHDWN}. در سمت راست کنترلر و در سمت چپ کنترل از راه دور مادون قرمز مشاهده می‌شود.}
\برچسب{fig:controller2}
\پایان{شکل}

به علت برد بیشتر اتصال‌های مبتنی بر این استاندارد (حدود ۲۰ متر برای نقطه‌های دسترسی داخلی و بعضاً تا ۱۵۰ متر برای بعضی از مدل‌های مناسب برای فضای باز\مرجع{wi-fi}) از مزیت‌های کنترلرهای استفاده کننده از \واژه{wifi} می‌توان به برد بیشتر آنها و قابلیت استفاده از آنها به صورت نسبتاً پراکنده و در مناطق وسیع اشاره کرد. همچنین بر خلاف استاندارد\واژه{bt}، امکان عمل‌کردن واحدها به صورت \واژه{wifi-repeater} نیز در این استاندارد گنجانده شده است و شرایط لازم برای ایجاد آرایه‌های بلندی از ابزارهای متصل به هم که یک شبکه‌ی مشترک را در دسترس قرار می‌دهند فراهم می‌سازد. به عنوان مثال، کنترلرهایی وجود دارد که به منظور استفاده‌ی خارجی تهیه شده و ضد آب بودن، منعطف بودن و تحمل محدوده دمایی مناسب برای آن در نظر گرفته شده است\مرجع{patent:CN210485639U}\مرجع{patent:CN212156755U}\مرجع{patent:CN209213534U}.

معمولاً به علت تنوع پروتکل‌های مورد استفاده برای برقراری ارتباط میان کنترلر و ریسه‌ی دیودها، کنترلرهای تجاری جهت افزایش سازگاری محصول پروتکل‌های فراوانی را پشتیبانی می‌کنند. پروتکل‌های دیودها از یک سیم (نوع غیرهمزمان) یا نهایتا دو سیم (نوع همزمان) برای داده استفاده می‌کنند و به همین علت، هزینه‌های سخت‌افزاری چندانی نخواهد داشت و قسمت الکتریکی پروتکل به سادگی با دو خروجی تحقق پذیر است. یک نوع کنترلر که از ۱۳ نوع خروجی پشتیبانی می‌کند در شکل \رجوع{fig:controller} نشان داده شده است\مرجع{amzn:B07DDB6JHJ}.

به همین صورت، امکان پشتیبانی از چندین پروتکل برای ارتباط کاربر با کنترلر نیز وجود دارد. کاربر برای راحتی بیشتر می‌تواند از رابط \واژه{wifi} استفاده کند که مزیت قابل دسترس بودن بر روی اینترنت و شبکه داخلی و در نتیجه برد وسیع را دارد و یا می‌تواند از رابط\واژه{bt} استفاده کرده که به نسبت رابط \واژه{wifi} راه‌اندازی ساده‌تری دارد. همچنین، کنترل‌های مبتنی بر نور مادون قرمز نیز ممکن است توسط کنترلر پشتیبانی شود که در این صورت می‌توان بدون انجام مرحله‌ی همگام‌سازی تغییرات دلخواه را اعمال کرد؛ البته به علت کم بودن برد این روش نیاز به در دیدرس بودن کنترلر و امکان برقراری ارتباط نوری بین کنترل و آن وجود دارد و همچنین به علت سادگی کنترل مادون قرمز، امکانات بسیاری قابل استفاده نخواهد بود. یک نمونه کنترلر که امکان تعامل با کاربر با هر سه روش ارتباطی مبتنی بر \واژه{wifi}،\واژه{bt} و نور مادون قرمز را پشتیبانی می‌کند در شکل \رجوع{fig:controller2} مشاهده می‌شود.
\قسمت{کنترلرهای مبتنی بر \واژه‌متن{bt}}

\واژه{bt}
یک استاندارد کوتاه-برد بی‌سیم است که برای تبادل داده میان ابزارهای ثابت یا متحرک در باند فرکانسی فرابالا \واژه{uhf} در محدوده‌ی ۲٫۴ تا ۲٫۴۸ گیگاهرتز استفاده می‌شود\مرجع{bluetooth-freq}. دستگاه‌های مبتنی بر این استاندارد در حالت رایج خود به توان ارسالی ۲٫۵ میلی‌وات محدود هستند که بردی حدود ۱۰ متر را برای کانال مخابراتی تعیین می‌نماید\مرجع{bluetooth-range}. ارتباطات\واژه{bt} در ابتدا با استاندارد \چر{IEEE802.15.1} ارائه شد؛ گرچه، سازمان \واژه{ieee} دیگر این استاندارد را نگهداری ننموده و این امر به \واژه{bl-sig} که مجموعه‌ای با عضویت بیش از ۳۶ هزار شرکت مرتبط با حوزه‌ی تکنولوژی است محول گردیده است\مرجع{bt-sig}.

یک نمونه از این کنترلر، علاوه بر اتصال با روش\واژه{bt} به کنترل، می‌تواند از طریق یک ترمینال تعبیه شده با رایانه‌ی بالادستی و با پروتکل سریال ارتباط برقرار کند\مرجع{patent:CN103987158A}.

